TODO / roadmap

Done
- Core: verification via /verify and auto-join; /status; webhook with secret token.
- Moderation/content: kick/ban/mute/warn, whitelist, notes/filters, welcome/goodbye, rules, /settings command.
- Inline admin actions: reply with /actions to get Kick/Ban/Mute/Unmute/Warn buttons (uses replied user_id, permission checks enforced).
- /menu: in-group shows DM deep link; in DM enforces verification, shows add-to-group CTA, lists detected admin groups, and opens an inline settings panel (verification toggle, timeout presets, action kick/mute, antiflood on/off + limit presets, welcome on/off).
- Roles: /roles to list/add/remove moderator/helper; decorators honor granted roles.
- Locks/pins: /lock /unlock links|media (enforced), /pin /unpin commands with permission checks.
- Filters/notes UX: /filters and /notes show inline remove/delete buttons with callbacks.

To build next (prioritized)
1) First-touch group setup card
   - When bot is added: post a setup card telling admins to promote to admin (restrict/delete/pin), and to run /menu in the group to open DM settings; include manage-in-DM link and a “Check permissions” button.
2) Admin action UX parity
   - Add reply-based purge action (bounded) and temp actions (tempban/tempmute presets) to /actions buttons.
3) Username resolution & guidance
   - Document limitations in /help_admin; ensure errors clearly instruct to reply or use numeric ID; optional getChat fallback only if bot has dialog.
4) Anti-spam/locks/pins
   - Lock/unlock media/links toggles; enforce in message handler.
   - Pin/unpin (optionally silent) via admin buttons/commands.
5) Filters/notes/roles polish
   - Filters: delete/warn/reply options; remove via buttons.
   - Notes: media support; inline delete done; add media retrieval handling.
   - Whitelist display usernames when known; inline add/remove.
   - Roles: scoped permissions (verify, kick, ban, warn, filters, notes) exposed in help/admin UX.
6) UX/help
   - /help_admin or /menu help with buttons to common admin actions/logs.
   - Clearer error replies for permission/target issues.
7) Observability
   - Improve admin action logging (target/outcome) and add health/status metrics (sessions active, verification success/fail/timeouts).

Pending onboarding gap:
- When bot is added to a group, post a first-touch card telling admins to promote it to admin (with required perms: restrict/delete/pin) and to run /menu in the group to open DM settings.
- Keep DM /menu focused on per-group settings; avoid mixing group-only steps there beyond add-to-group CTA and group selection.
